<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poly 과제 제출 시스템</title>
    <link rel="stylesheet" th:href="@{/css/professor/professorStyleSheet.css}">
    <link rel="stylesheet" th:href="@{/css/professor/professorMainStyleSheet.css}">
</head>
<body>
<div class="header">
    <a class="header-left" th:href="@{/professor-main}" style="text-decoration: none">
        <div class="logo"></div>
        <div class="title">AISW</div>
    </a>
    <div class="user-info">
        <span th:text="${professor.name + ' 교수님'}">교수님</span>
        <a th:href="@{/logout}" class="logout-btn">로그아웃</a>
    </div>
</div>

<div class="container">
    <div class="sidebar">
        <a th:href="@{/professor-main}" class="sidebar-item-container">
            <div class="sidebar-item active">대시보드</div>
        </a>
        <a th:href="@{/professor/courses}" class="sidebar-item-container">
            <div class="sidebar-item">강의 관리</div>
        </a>
        <a th:href="@{/professor/assignments}" class="sidebar-item-container">
            <div class="sidebar-item">과제 관리</div>
        </a>
        <a th:href="@{/professor/questions}" class="sidebar-item-container">
            <div class="sidebar-item">질문 관리</div>
        </a>
    </div>

    <div class="main-content">
        <!-- 성공 메시지 -->
        <div th:if="${param.courseCreated}" class="success-message">
            강의가 성공적으로 등록되었습니다!
        </div>
        <div th:if="${param.assignmentCreated}" class="success-message">
            과제가 성공적으로 등록되었습니다!
        </div>

        <div class="welcome-section">
            <div class="welcome-title" th:text="${professor.name + ' 교수님의 대시보드'}">교수님의 대시보드</div>
            <div class="welcome-subtitle">강의와 과제를 효율적으로 관리하세요</div>
        </div>

        <!-- 통계 섹션 -->
        <div class="stats-section">
            <div class="stat-item">
                <div class="stat-number" th:text="${#lists.size(courses)}">0</div>
                <div class="stat-label">개설 강의</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" th:text="${#lists.size(assignments)}">0</div>
                <div class="stat-label">등록 과제</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" th:text="${enrollments}">0</div>
                <div class="stat-label">수강 학생</div>
            </div>
        </div>

        <div class="action-buttons">
            <a th:href="@{/professor/courses}" class="action-btn">강의 개설</a>
            <a th:href="@{/create-assignment}" class="action-btn">과제 등록</a>
            <a th:href="@{/professor/assignments}" class="action-btn">과제 관리</a>
            <a th:href="@{/professor/questions}" class="action-btn">질문 관리</a>
        </div>

        <!-- 최근 강의 목록 -->
        <div class="content-section">
            <div class="section-title">최근 개설 강의</div>
            <div th:if="${#lists.isEmpty(courses)}" class="empty-state">
                <div class="empty-state-icon">📚</div>
                <div>아직 개설된 강의가 없습니다.<br>새 강의를 개설해보세요!</div>
            </div>
            <div th:unless="${#lists.isEmpty(courses)}" class="course-grid">
                <a th:each="course : ${courses}" class="course-card" style="text-decoration: none;"
                   th:href="@{/professor/course/{code}/manage(code=${course.courseCode})}">
                    <div class="card-title" th:text="${course.courseName}">강의명</div>
                    <div class="card-info">강의 코드: <span th:text="${course.courseCode}">CS101</span></div>
                </a>
            </div>
        </div>

        <!-- 최근 과제 목록 -->
        <div class="content-section">
            <div class="section-title">최근 등록 과제</div>
            <div th:if="${#lists.isEmpty(assignments)}" class="empty-state">
                <div class="empty-state-icon">📝</div>
                <div>아직 등록된 과제가 없습니다.<br>새 과제를 등록해보세요!</div>
            </div>
            <div th:unless="${#lists.isEmpty(assignments)}" class="assignment-grid">
                <a th:each="assignment : ${assignments}" class="assignment-card" th:href="@{/professor/assignment/{code}/submissions(code=${assignment.assignmentCode})}">
                    <div class="card-title" th:text="${assignment.title}">과제명</div>
                    <div class="card-info">강의: <span th:text="${assignment.course.courseName}">강의명</span></div>
                    <div class="card-info">마감일: <span th:text="${assignment.dueDate}">마감일</span></div>
                </a>
            </div>
        </div>
    </div>
</div>
</body>
</html>